<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Day-20-4.html</title>
</head>

<body>
  <div id="fade-obj-1" style="width:300px;height:300px;background:#000"></div>
  <p>setTimeout </p>
  <button id="fade-btn-1">淡出</button>
  <div id="fade-obj-2" style="width:300px;height:300px;background:#000"></div>
  <p>setInterval</p>
  <button id="fade-btn-2">淡出</button>

  <script>
    document.querySelector('#fade-btn-1').addEventListener('click', function (event) {
      if (event.target.innerText === '淡出') {
        document.querySelector('#fade-btn-1').disabled = true
        for (let i = 0; i <= 100; i++) {
          setTimeout(() => {
            document.querySelector('#fade-obj-1').style.opacity = 1 - i / 100
          }, i * 50);
          setTimeout(() => {
            document.querySelector('#fade-btn-1').disabled = false
            document.querySelector('#fade-btn-1').innerText = '淡入'
          }, 5000);
        }
      } else {
        document.querySelector('#fade-btn-1').disabled = true
        for (let i = 0; i <= 100; i++) {
          setTimeout(() => {
            document.querySelector('#fade-obj-1').style.opacity = i / 100
          }, i * 50);
          setTimeout(() => {
            document.querySelector('#fade-btn-1').disabled = false
            document.querySelector('#fade-btn-1').innerText = '淡出'
          }, 5000);
        }
      }
    })

    document.querySelector('#fade-btn-2').addEventListener('click', function (event) {
      if (event.target.innerText === '淡出') {
        document.querySelector('#fade-btn-2').disabled = true
        let i = 0
        let interval = setInterval(() => {
          if (i <= 100) {
            document.querySelector('#fade-obj-2').style.opacity = 1 - i / 100
            i += 1
          } else {
            clearInterval(interval)
            document.querySelector('#fade-btn-2').disabled = false
            document.querySelector('#fade-btn-2').innerText = '淡入'
          }
        }, 50)
      } else {
        document.querySelector('#fade-btn-2').disabled = true
        let i = 0
        let interval = setInterval(() => {
          if (i <= 100) {
            document.querySelector('#fade-obj-2').style.opacity = i / 100
            i += 1
          } else {
            clearInterval(interval)
            document.querySelector('#fade-btn-2').disabled = false
            document.querySelector('#fade-btn-2').innerText = '淡出'
          }
        }, 50)
      }
    })

  </script>
</body>

</html>
