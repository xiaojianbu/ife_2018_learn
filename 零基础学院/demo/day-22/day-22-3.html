<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Day-22-3</title>
</head>

<body>
  <script>
    /*
        实现一个字符串头尾去除空格的函数
        注意需要去除的空格，包括全角、半角空格
        暂时不需要学习和使用正则表达式的方式
        */
    function diyTrim(str) {
      var result = "";

      // do something
      let arr = str.split('')
      let whitespace =
        '\f\n\r\t\v​\u00a0\u1680​\u180e\u2000​\u2001\u2002​\u2003\u2004​ \u2005\u2006​\u2007\u2008​\u2009\u200a​\u2028\u2029​​\u202f\u205f​ \u3000'
      let flag = true
      while (flag) {
        if (whitespace.indexOf(arr[0]) !== -1) {
          arr.shift()
        } else {
          flag = false
        }
      }
      let reverseArr = arr.reverse()
      flag = true
      while (flag) {
        if (whitespace.indexOf(reverseArr[0]) !== -1) {
          reverseArr.shift()
        } else {
          flag = false
        }
      }

      result = reverseArr.reverse().join('')
      return result
    }

    // 测试用例
    console.log(diyTrim(' a f b    ')); // ->a f b
    console.log(diyTrim('    ffdaf    ')); // ->ffdaf
    console.log(diyTrim('1    ')); // ->1
    console.log(diyTrim('　　f')); // ->f
    console.log(diyTrim('  　  a f b 　　 ')); // ->a f b
    console.log(diyTrim(' ')); // ->
    console.log(diyTrim('　')); // ->
    console.log(diyTrim('')); // ->

    /*
    去掉字符串str中，连续重复的地方
    */
    function removeRepetition(str) {
      var result = "";

      // do something
      let arr = str.split('')
      for (let i = 0, len = arr.length; i < len;) {
        if (arr[i] === arr[i+1]) {
          arr.splice(i,1)
          len -= 1
        } else {
          i += 1
        }
      }
      result = arr.join('')
      return result;
    }

    // 测试用例
    console.log(removeRepetition("aaa")); // ->a
    console.log(removeRepetition("abbba")); // ->aba
    console.log(removeRepetition("aabbaabb")); // ->abab
    console.log(removeRepetition("")); // ->
    console.log(removeRepetition("abc")); // ->abc

  </script>
</body>

</html>
