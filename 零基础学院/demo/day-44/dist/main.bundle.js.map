{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/Restaurant.js","webpack:///./src/js/Employee.js","webpack:///./src/js/util.js","webpack:///./src/js/Waiter.js","webpack:///./src/js/Cook.js","webpack:///./src/js/Customer.js","webpack:///./src/js/Dish.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","default","object","property","prototype","hasOwnProperty","p","s","e","t","length","writable","key","Restaurant","opt","this","cash","seats","staff","_createClass","employee","push","filter","item","id","Employee_Employee","Employee","wage","len","radix","chars","split","uuid","Math","random","join","Employee_createClass","u","Waiter","_Employee","TypeError","__proto__","getPrototypeOf","apply","arguments","create","constructor","setPrototypeOf","Waiter_createClass","arg","toString","console","log","customer","dishmenu","dishes","map","price","completeOneWork","concat","orderDishes","cook","dish","getDish","instance","Cook","Cook_createClass","Customer_Customer","Customer","Customer_createClass","restaurant","newCustomer","floor","msg","Dish","cost","KrustyKrab","SpongeBob","getInstance","Squidward","hire","src_dishmenu","KrabbyPatty","hotDog","soda","customerArr","set","serve","setDish","eat","shift","PatrickStar","SandyCheeks"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export class Restaurant {\n  constructor(opt) {\n    this.cash = opt.cash\n    this.seats = opt.seats\n    this.staff = opt.staff\n  }\n\n  hire(employee) {\n    this.staff.push(employee)\n  }\n\n  fire(employee) {\n    this.staff = this.staff.filter(item => item.id !== employee.id)\n  }\n}\n","import {\n  uuid\n} from './util'\n\nexport class Employee {\n  constructor(name, wage) {\n    this.id = uuid(8, 10) // 随机ID\n    this.name = name\n    this.wage = wage\n  }\n\n  completeOneWork() {}\n}\n","export function uuid(len, radix) {\n  let chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('')\n  let uuid = []\n  let newRadix = radix || chars.length\n\n  if (len) {\n    // Compact form\n    for (let i = 0; i < len; i++) uuid[i] = chars[0 | Math.random() * newRadix]\n  } else {\n    // rfc4122, version 4 form\n    let r\n\n    // rfc4122 requires these characters\n    uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-'\n    uuid[14] = '4'\n\n    // Fill in random data.  At i==19 set the high bits of clock sequence as\n    // per rfc4122, sec. 4.1.5\n    for (let i = 0; i < 36; i++) {\n      if (!uuid[i]) {\n        r = 0 | Math.random() * 16\n        uuid[i] = chars[(i === 19) ? (r & 0x3) | 0x8 : r]\n      }\n    }\n  }\n\n  return uuid.join('')\n}\n\nexport function getRandomDish(dishmenu) {\n  return dishmenu[Math.floor(Math.random() * dishmenu.length)]\n}\n","import {\n  Employee\n} from './Employee'\n\nexport class Waiter extends Employee {\n  completeOneWork(arg) {\n    if (Object.prototype.toString.call(arg) === '[object Array]') {\n      console.log(`${arg.join('')},请稍等`)\n      return `${arg.join('')}`\n    } else {\n      console.log(`${this.customer.name},您点的${arg}`)\n    }\n  }\n\n  serve(customer, dishmenu) {\n    this.customer = customer\n    let dishes = dishmenu.map(item => {\n      return `${item.name}-${item.price}元`\n    })\n    console.log(`${this.customer.name}，您需要点什么？我们这里有${dishes.join(' ')}`)\n    return this.completeOneWork([].concat(customer.orderDishes(dishmenu)))\n  }\n\n  setDish(cook, dish) {\n    console.log(`${cook.name},一份${dish}`)\n    return cook.getDish(dish)\n  }\n\n  static getInstance(name, wage) {\n    if (!this.instance) {\n      this.instance = new Waiter(name, wage)\n    }\n\n    return this.instance\n  }\n}\n","import {\n  Employee\n} from './Employee'\n\nexport class Cook extends Employee {\n  completeOneWork(dish) {\n    console.log(`烹饪出${dish}`)\n    return dish\n  }\n\n  getDish(dish) {\n    return this.completeOneWork(dish)\n  }\n\n  static getInstance(name, wage) {\n    if (!this.instance) {\n      this.instance = new Cook(name, wage)\n    }\n\n    return this.instance\n  }\n}\n","import {\n  getRandomDish\n} from './util'\n\nexport class Customer {\n  constructor(name) {\n    this.name = name\n  }\n  /**\n   * 入座\n   * @param {Object} restaurant 餐馆\n   */\n  seated(restaurant) {\n    restaurant.seats = 0\n    restaurant.newCustomer = this.name\n  }\n  orderDishes(dishmenu) {\n    let dish = getRandomDish(dishmenu).name\n    let msg = `我想要${dish}`\n    console.log(msg)\n    return dish\n  }\n  eat() {\n    console.log('吃完，结账！')\n  }\n}\n","export class Dish {\n  constructor(opt) {\n    this.name = opt.name\n    this.cost = opt.cost\n    this.price = opt.price\n  }\n}\n","import {\n  Restaurant\n} from './js/Restaurant'\nimport {\n  Waiter\n} from './js/Waiter'\nimport {\n  Cook\n} from './js/Cook'\nimport {\n  Customer\n} from './js/Customer'\nimport {\n  Dish\n} from './js/Dish'\n\nconst KrustyKrab = new Restaurant({\n  cash: 1000000,\n  seats: 1,\n  staff: []\n})\nconst SpongeBob = Cook.getInstance('SpongeBob', 10000)\nconst Squidward = Waiter.getInstance('Squidward', 10000)\nKrustyKrab.hire(SpongeBob)\nKrustyKrab.hire(Squidward)\n\nlet dishmenu = []\nlet KrabbyPatty = new Dish({\n  name: '蟹黄堡',\n  cost: 5,\n  price: 7.5\n})\nlet hotDog = new Dish({\n  name: '热狗',\n  cost: 1,\n  price: 2\n})\nlet soda = new Dish({\n  name: '可乐',\n  cost: 2,\n  price: 3\n})\ndishmenu.push(KrabbyPatty, hotDog, soda)\n\nKrustyKrab.dishmenu = dishmenu\nKrustyKrab.customer = null\nKrustyKrab.customerArr = []\n\nObject.defineProperty(KrustyKrab, 'newCustomer', {\n  get: function () {\n    return this.customer\n  },\n  set: function (value) {\n    if (this.seats === 0) {\n      // 有客人，客人进队列\n      this.customerArr.push(value)\n    } else {\n      this.seats = 0\n      this.customer = value\n      // 客人入座，服务员招待\n      let dish = Squidward.serve(this.customer, dishmenu)\n\n      Squidward.completeOneWork(Squidward.setDish(SpongeBob, dish))\n\n      this.customer.eat()\n      this.seats = 1\n      if (this.customerArr.length) {\n        this.customer = this.customerArr.shift()\n      }\n    }\n  }\n})\n\nlet PatrickStar = new Customer('Patrick Star')\n\nKrustyKrab.newCustomer = PatrickStar\n\nlet SandyCheeks = new Customer('Sandy Cheeks')\n\nKrustyKrab.newCustomer = SandyCheeks\n"],"sourceRoot":""}